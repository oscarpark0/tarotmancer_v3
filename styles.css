/* Base styles should be here */

@media (max-width: 768px) { /* Breakpoint for tablets/large phones */

    body {
        padding: 5px; /* Reduce body padding */
    }

    .container {
        padding: 10px; /* Reduce container padding */
        gap: 10px;     /* Reduce gap between sections */
        width: 100%;    /* Ensure it takes full width */
        max-width: 100vw; /* Use viewport width */
        min-height: auto; /* Let height adjust */
        box-sizing: border-box; /* Ensure padding is included */
        overflow-x: hidden; /* Prevent horizontal scroll on container */
    }

    .controls-area {
        flex-direction: column; /* Stack controls vertically */
        gap: 10px;
        padding: 10px 5px; /* Reduced horizontal padding */
    }

    .spread-selector,
    button {
        width: 100%; /* Make controls fill container */
        max-width: 350px; /* Slightly larger max-width, but full width first */
        text-align: center;
        box-sizing: border-box;
        margin-left: auto; /* Center within flex column if max-width applies */
        margin-right: auto; /* Center within flex column if max-width applies */
    }

    .spread-area-wrapper {
        padding: 10px 0; /* Reduce padding, remove horizontal padding */
        width: 100%; /* Ensure wrapper takes full width */
        /* overflow-x: auto; */ /* REMOVED - Not needed for flex column */
        box-sizing: border-box;
    }

    /* Adjust complex layouts - STACK THEM VERTICALLY */
    .spread-area.celtic-cross-layout,
    .spread-area.horseshoe-layout {
        display: flex; /* Change from block/absolute */
        flex-direction: column; /* Stack vertically */
        align-items: center; /* Center cards */
        width: 100%; /* Take full width */
        min-width: 0;
        max-width: 100%;
        height: auto; /* Let height adjust */
        min-height: 0;
        position: relative; /* Back to relative */
        gap: 15px; /* Slightly reduced gap between cards */

        /* Remove scaling and centering margins from previous attempt */
        transform: none;
        transform-origin: initial;
        margin-left: 0;
    }

    /* Reset card positioning within complex layouts for mobile */
    .spread-area.celtic-cross-layout .card-container,
    .spread-area.horseshoe-layout .card-container {
        position: relative; /* No longer absolute */
        top: auto;
        left: auto;
        transform: none !important; /* Remove any rotation/positioning */
        margin-bottom: 10px; /* Consistent bottom margin */
        width: 110px; /* Slightly smaller cards for tablet size */
    }

}

@media (max-width: 480px) { /* Further adjustments for small phones */
    .container {
        padding: 5px; /* Minimal container padding */
        gap: 8px;
    }

    /* Make cards even smaller for phones */
    .spread-area.celtic-cross-layout .card-container,
    .spread-area.horseshoe-layout .card-container {
        width: 100px; /* Smaller cards */
        margin-bottom: 8px; /* Tighter margin */
    }

    .spread-area.celtic-cross-layout,
    .spread-area.horseshoe-layout {
        gap: 10px; /* Reduced gap for smaller screens */
    }

    /* Make sure interpretation is still usable */
    .interpretation-area {
         min-height: 120px;
         padding: 8px;
    }

     h1 { font-size: 1.2em; }
     h2 { font-size: 1.0em; }
     p, label, button, select { font-size: 0.8em; }

    /* Further reduce card label size */
    .card-label {
        font-size: 0.6em;
    }

}

/* Optional: Style scrollbars for the wrapper on mobile */
@media (max-width: 768px) {
    .spread-area-wrapper::-webkit-scrollbar {
        height: 5px;
        background-color: #001a00;
    }
    .spread-area-wrapper::-webkit-scrollbar-thumb {
        background-color: #00FF00;
        border-radius: 2px;
    }
}